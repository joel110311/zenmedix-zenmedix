[
  {
    "id": "pbc_users00001",
    "name": "users",
    "type": "auth",
    "system": false,
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "@request.auth.role = 'superadmin'",
    "updateRule": "@request.auth.id = id || @request.auth.role = 'superadmin'",
    "deleteRule": "@request.auth.role = 'superadmin'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "email3885137012",
        "name": "email",
        "type": "email",
        "system": true,
        "required": true
      },
      {
        "id": "bool256245529",
        "name": "verified",
        "type": "bool",
        "system": true
      },
      {
        "id": "text1579384326",
        "name": "name",
        "type": "text",
        "required": true
      },
      {
        "id": "select1466534506",
        "name": "role",
        "type": "select",
        "required": true,
        "values": ["medico", "recepcion", "superadmin"]
      },
      {
        "id": "text8234567890",
        "name": "specialty",
        "type": "text",
        "required": false
      },
      {
        "id": "text9234567891",
        "name": "license",
        "type": "text",
        "required": false
      },
      {
        "id": "text9234567892",
        "name": "university",
        "type": "text",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "system": false,
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "system": false,
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": [
      "CREATE UNIQUE INDEX idx_users_email ON users (email)"
    ],
    "passwordAuth": {
      "enabled": true,
      "identityFields": ["email"]
    },
    "authToken": {
      "duration": 604800
    }
  },
  {
    "id": "pbc_patients01",
    "name": "patients",
    "type": "base",
    "system": false,
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != ''",
    "deleteRule": "@request.auth.role = 'superadmin' || @request.auth.role = 'medico'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "text0000000001",
        "name": "firstName",
        "type": "text",
        "required": true
      },
      {
        "id": "text0000000002",
        "name": "lastName",
        "type": "text",
        "required": true
      },
      {
        "id": "text0000000003",
        "name": "dni",
        "type": "text",
        "required": false
      },
      {
        "id": "date0000000001",
        "name": "dob",
        "type": "date",
        "required": false
      },
      {
        "id": "select000000001",
        "name": "sex",
        "type": "select",
        "required": false,
        "values": ["masculino", "femenino"]
      },
      {
        "id": "text0000000004",
        "name": "phone",
        "type": "text",
        "required": false
      },
      {
        "id": "email000000001",
        "name": "email",
        "type": "email",
        "required": false
      },
      {
        "id": "text0000000005",
        "name": "address",
        "type": "text",
        "required": false
      },
      {
        "id": "text0000000006",
        "name": "allergies",
        "type": "text",
        "required": false
      },
      {
        "id": "text0000000007",
        "name": "pathologicalHistory",
        "type": "text",
        "required": false
      },
      {
        "id": "text0000000008",
        "name": "nonPathologicalHistory",
        "type": "text",
        "required": false
      },
      {
        "id": "date0000000002",
        "name": "lastVisit",
        "type": "date",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": []
  },
  {
    "id": "pbc_clinics001",
    "name": "clinics",
    "type": "base",
    "system": false,
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.role = 'superadmin'",
    "updateRule": "@request.auth.role = 'superadmin' || @request.auth.role = 'medico'",
    "deleteRule": "@request.auth.role = 'superadmin'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "text1000000001",
        "name": "name",
        "type": "text",
        "required": true
      },
      {
        "id": "text1000000002",
        "name": "subtitle",
        "type": "text",
        "required": false
      },
      {
        "id": "text1000000003",
        "name": "phone",
        "type": "text",
        "required": false
      },
      {
        "id": "text1000000004",
        "name": "address",
        "type": "text",
        "required": false
      },
      {
        "id": "text1000000005",
        "name": "city",
        "type": "text",
        "required": false
      },
      {
        "id": "file1000000001",
        "name": "logo",
        "type": "file",
        "required": false,
        "maxSelect": 1,
        "maxSize": 5242880,
        "mimeTypes": ["image/jpeg", "image/png", "image/svg+xml", "image/webp"]
      },
      {
        "id": "json1000000001",
        "name": "schedule",
        "type": "json",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": []
  },
  {
    "id": "pbc_appts00001",
    "name": "appointments",
    "type": "base",
    "system": false,
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "",
    "updateRule": "@request.auth.id != ''",
    "deleteRule": "@request.auth.id != ''",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "relation0000001",
        "name": "patient",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_patients01",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "relation0000002",
        "name": "doctor",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_users00001",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "relation0000003",
        "name": "clinic",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_clinics001",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "text2000000001",
        "name": "patientName",
        "type": "text",
        "required": true
      },
      {
        "id": "text2000000002",
        "name": "phone",
        "type": "text",
        "required": false
      },
      {
        "id": "date2000000001",
        "name": "date",
        "type": "date",
        "required": true
      },
      {
        "id": "text2000000003",
        "name": "time",
        "type": "text",
        "required": true
      },
      {
        "id": "text2000000004",
        "name": "reason",
        "type": "text",
        "required": false
      },
      {
        "id": "text2000000005",
        "name": "notes",
        "type": "text",
        "required": false
      },
      {
        "id": "select2000000001",
        "name": "status",
        "type": "select",
        "required": true,
        "values": ["scheduled", "confirmed", "attended", "cancelled", "noShow"]
      },
      {
        "id": "bool2000000001",
        "name": "consultationCompleted",
        "type": "bool",
        "required": false
      },
      {
        "id": "text2000000006",
        "name": "source",
        "type": "text",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": [
      "CREATE INDEX idx_appointments_date ON appointments (date)",
      "CREATE INDEX idx_appointments_status ON appointments (status)"
    ]
  },
  {
    "id": "pbc_consult001",
    "name": "consultations",
    "type": "base",
    "system": false,
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != ''",
    "deleteRule": "@request.auth.role = 'superadmin' || @request.auth.role = 'medico'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "relation3000001",
        "name": "patient",
        "type": "relation",
        "required": true,
        "collectionId": "pbc_patients01",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "relation3000002",
        "name": "appointment",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_appts00001",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "relation3000003",
        "name": "doctor",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_users00001",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "select3000000001",
        "name": "type",
        "type": "select",
        "required": true,
        "values": ["consultation", "certificate"]
      },
      {
        "id": "text3000000001",
        "name": "reason",
        "type": "text",
        "required": false
      },
      {
        "id": "number300000001",
        "name": "weight",
        "type": "number",
        "required": false
      },
      {
        "id": "number300000002",
        "name": "height",
        "type": "number",
        "required": false
      },
      {
        "id": "text3000000002",
        "name": "bloodPressure",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000003",
        "name": "heartRate",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000004",
        "name": "temperature",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000005",
        "name": "respiratoryRate",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000006",
        "name": "oxygenSaturation",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000007",
        "name": "symptoms",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000008",
        "name": "diagnosis",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000009",
        "name": "treatment",
        "type": "text",
        "required": false
      },
      {
        "id": "text3000000010",
        "name": "indications",
        "type": "text",
        "required": false
      },
      {
        "id": "json3000000001",
        "name": "medications",
        "type": "json",
        "required": false
      },
      {
        "id": "json3000000002",
        "name": "labResults",
        "type": "json",
        "required": false
      },
      {
        "id": "json3000000003",
        "name": "studies",
        "type": "json",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": [
      "CREATE INDEX idx_consultations_patient ON consultations (patient)",
      "CREATE INDEX idx_consultations_created ON consultations (created)"
    ]
  },
  {
    "id": "pbc_config00001",
    "name": "config",
    "type": "base",
    "system": false,
    "listRule": "",
    "viewRule": "",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != ''",
    "deleteRule": "@request.auth.role = 'superadmin'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "text4000000001",
        "name": "key",
        "type": "text",
        "required": true
      },
      {
        "id": "json4000000001",
        "name": "value",
        "type": "json",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "autodate3332085495",
        "name": "updated",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": true
      }
    ],
    "indexes": [
      "CREATE UNIQUE INDEX idx_config_key ON config (key)"
    ]
  },
  {
    "id": "pbc_auditlog01",
    "name": "audit_logs",
    "type": "base",
    "system": false,
    "listRule": "@request.auth.role = 'superadmin' || @request.auth.role = 'medico'",
    "viewRule": "@request.auth.role = 'superadmin' || @request.auth.role = 'medico'",
    "createRule": "@request.auth.id != ''",
    "updateRule": null,
    "deleteRule": "@request.auth.role = 'superadmin'",
    "fields": [
      {
        "id": "text3208210256",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "primaryKey": true,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$"
      },
      {
        "id": "relation5000001",
        "name": "user",
        "type": "relation",
        "required": false,
        "collectionId": "pbc_users00001",
        "cascadeDelete": false,
        "maxSelect": 1
      },
      {
        "id": "text5000000001",
        "name": "userName",
        "type": "text",
        "required": false
      },
      {
        "id": "text5000000002",
        "name": "action",
        "type": "text",
        "required": true
      },
      {
        "id": "text5000000003",
        "name": "entity",
        "type": "text",
        "required": true
      },
      {
        "id": "text5000000004",
        "name": "entityId",
        "type": "text",
        "required": false
      },
      {
        "id": "json5000000001",
        "name": "details",
        "type": "json",
        "required": false
      },
      {
        "id": "text5000000005",
        "name": "ipAddress",
        "type": "text",
        "required": false
      },
      {
        "id": "autodate2990389176",
        "name": "created",
        "type": "autodate",
        "onCreate": true,
        "onUpdate": false
      }
    ],
    "indexes": [
      "CREATE INDEX idx_audit_logs_created ON audit_logs (created)",
      "CREATE INDEX idx_audit_logs_action ON audit_logs (action)"
    ]
  }
]
